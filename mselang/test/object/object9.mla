program object9;

type
 objty = object [nozeroinit,virtual]
  f1: int32;
  procedure test(p: int32) [virtual];
 end;

 obj1ty = object(objty) [zeroinit]
  f2: int32;
  s1: string8;
  constructor create();
  destructor destroy();
  procedure test(p: int32) [override];
  procedure afterconstruction() [afterconstruct];
  procedure beforedestruction() [beforedestruct];
  procedure ini() [ini];
  procedure fini() [fini];
 end;

var
 i1: int32;

constructor obj1ty.create();
begin
 i1:= i1+1;
// writeln('create');
end;

destructor obj1ty.destroy();
begin
 i1:= i1+2;
// writeln(f1,'destroy');
end;

procedure objty.test(p: int32);
begin
 i1:= 100;
end;

procedure obj1ty.test(p: int32);
begin
 i1:= i1+3;
// writeln(f1,'test');
 exitcode:= f1+f2+p;
end;

procedure obj1ty.afterconstruction();
begin
 i1:= i1+4;
// writeln(f1,'aftconstruct');
end;

procedure obj1ty.beforedestruction();
begin
 i1:= i1+5;
// writeln(f1,'befdestruct');
end;

procedure obj1ty.ini();
begin
 i1:= i1+6;
 f1:= 2;
// writeln(f1,'ini');
end;

procedure obj1ty.fini();
begin
 i1:= i1+7;
// writeln(f1,'fini');
end;

procedure test();
var
 ob1: obj1ty;
begin
 ob1.create();
 ob1.test(121-1-2-3-4-5-6-7);
 ob1.destroy();
end;

begin
 test();
 exitcode:= exitcode+i1;
end.