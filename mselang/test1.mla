program ini2;
type
{$internaldebug on}
 ttest = class()[virtual]
  f1,f2: int32;
  destructor destroy();
  method ini1() [ini,virtual];
 end;

 ttest1 = class(ttest) [virtual]
  f3: int32;
 end;

method ttest.ini1();
begin
 writeln('ini ',sizeof(self^));
end;

destructor ttest.destroy();
begin
end;

var
 c2: ttest;
begin
 writeln(classof(ttest),' ',classof(ttest1));
 writeln(sizeof(ttest^),' ',sizeof(ttest1^));
// c2:= ttest1.create();
c2:= getmem(sizeof(ttest1^);
{$internaldebug on}
initialize(c2,ttest1);
// exitcode:= exitcode+ttest1(c2).f3;
 c2.destroy();
end.