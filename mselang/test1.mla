program object8;

type
 objty = object [virtual]
  f1: int32;
{$dumpelements}
{$internaldebug on}
  procedure test(p: int32) [virtual];
 end;

 obj1ty = object(objty) [zeroed]
  f2: int32;
  s1: string8;
  constructor create();
  destructor destroy();
  procedure test(p: int32) [override];
  procedure afterconstruction() [afterconstruct];
  procedure beforedestruction() [beforedestruct];
 end;

constructor obj1ty.create();
begin
 f1:= 1;
 writeln('aaa');
end;

destructor obj1ty.destroy();
begin
 writeln(f1,'ddd');
end;

procedure objty.test(p: int32);
begin
end;

procedure obj1ty.test(p: int32);
begin
 exitcode:= f1+f2+p;
end;

procedure obj1ty.afterconstruction();
begin
 writeln(f1,'bbb');
end;

procedure obj1ty.beforedestruction();
begin
 writeln(f1,'ccc');
end;

procedure test();
var
 ob1: obj1ty;
begin
 ob1.create();
// ob1.test(122);
 ob1.destroy();
end;

begin
 test();
end.