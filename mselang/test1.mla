program pointertostring1;
uses
 rtl_fpccompatibility,__mla__internaltypes;
type


 ctest = class(tobject)
  f1: int32;
  constructor create();
  destructor destroy();
 end;
 cty = class of ctest;

constructor ctest.create();
begin
end;

destructor ctest.destroy();
begin
end;

var
 cc1: cty;
 p1: pclassdefheaderty;
 p2: pobjectrttity;
 c1: ctest;
begin
 cc1:= ctest;
 p1:= pointer(cc1);
 p2:= pointer(p1^.rtti);
 writeln(cc1,' ',p1^.allocs.size,' ',p1^.rtti,' ',p2^.kind,' ',p2^.size,' ',p2^.classdef);
 c1:= ctest.create();
 writeln(c1.classtype,' ',c1.classinfo,' ',c1.classname);
 if (pointer(cc1) = c1.classtype) and (p2 = c1.classinfo) then
  exitcode:= 123;
 end;
 c1.destroy();
// exitcode:= 123;
// p1:= pointer(cc1);
// c1:= ctest.create();
// p1:= c1.classinfo;
// writeln(p1);
// c1.destroy();
end.